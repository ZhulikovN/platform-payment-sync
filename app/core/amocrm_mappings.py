"""Маппинг enum_id для полей AmoCRM со списками выбора."""

PURCHASE_COUNT_MAPPING: dict[int, int] = {
    1: 1373533,
    2: 1373535,
    3: 1373537,
    4: 1373539,
    5: 1373541,
    6: 1373543,
    7: 1373545,
    8: 1373547,
    9: 1373549,
    10: 1373551,
}

SUBJECTS_MAPPING: dict[str, int] = {
    "Обществознание": 1360284,
    "Английский язык": 1360290,
    "История": 1360288,
    "Русский": 1360286,
    "Физика": 1360292,
    "Химия": 1360294,
    "Литература": 1364010,
    "Проф. мат (Маша)": 1375717,
    "Математика (база)": 1369170,
    "Биология (Женя)": 1373063,
    "Обществознание ОГЭ": 1360284,  # Обществознание
    "Русский ОГЭ": 1360286,  # Русский
    "Математика ОГЭ": 1369170,  # База матем
    "Биология ОГЭ": 1377591,    # Биология (Геля)
    "Информатика": 1375889,
    "Проф. мат (Саша)": 1377593,
    "Биология (Геля)": 1377591,
    "Математика": 1369170,  # База матем
}

DIRECTION_MAPPING: dict[str, int] = {
    # # Актуальные курсы
    # "Математика база 10 класс": 1358062,
    # "Английский спецкурс": 1368152,
    # "Химия двухмесячный": 1368154,
    # "Физика двухмесячный": 1370054,
    # "История двухмесячный": 1370074,
    # "Общага трёхмесячный": 1370536,
    # "Русский двухмесячный": 1370538,
    # "Полугодовой сентябрь": 1370668,
    # "Марафон": 1370936,
    # "Итоговое сочинение": 1370980,
    # "Последняя гонка общага": 1371857,
    # "Последняя гонка русский": 1371859,
    # "Последняя гонка литра": 1371861,
    # "Последняя гонка история": 1371863,
    # "Последняя гонка английский": 1371865,
    # "Последняя гонка химия": 1371867,
    # "Последняя гонка физика": 1371869,
    # "Последняя гонка математика": 1371871,
    # "Последняя гонка 2к4 огэ русский": 1372535,
    # "Последняя гонка 2к4 огэ математика": 1372537,
    # "Последняя гонка 2к4 огэ комбо": 1372539,
    # "Премиум": 1372551,
    # "Марафон Английский": 1372671,
    # "Марафон Общага": 1372673,
    # "Марафон Матем Профиль": 1372675,
    # "Марафон Матем база": 1372677,
    # "Марафон Химия": 1372679,
    # "Марафон Физика": 1372681,
    # "Марафон Русский": 1372683,
    # "Марафон Литература": 1372685,
    # "Марафон История": 1372687,
    # "Марафон Биология": 1373065,
    # # Годовые курсы 2025
    # "Годовой курс 2к25": 1373103,
    # "годовой 2к25 общага": 1373111,
    # "годовой 2к25 русский": 1373113,
    # "годовой 2к25 литра": 1373115,
    # "годовой 2к25 химия": 1373117,
    # "годовой 2к25 физика": 1373119,
    # "годовой 2к25 англ": 1373121,
    # "годовой 2к25 история": 1373123,
    # "годовой 2к25 профиль": 1373125,
    # "годовой 2к25 база": 1373127,
    # "годовой 2к25 биология": 1373129,
    # # ОГЭ курсы 2025
    # "Годовой огэ русский 2025": 1373595,
    # "Годовой огэ общага 2025": 1373597,
    # "Годовой огэ матан 2025": 1373599,
    "ОГЭ": 1373607,
    "ЕГЭ": 1373609,
    # "Годовой огэ биология 2025": 1374083,
    # # Годовые 2.0 курсы
    # "Годовой 2.0 общага": 1375471,
    # "Годовой 2.0 русский": 1375473,
    # "Годовой 2.0 матем профиль": 1375475,
    # "Годовой 2.0 матем база": 1375477,
    # "Годовой 2.0 литература": 1375479,
    # "Годовой 2.0 физика": 1375481,
    # "Годовой 2.0 химия": 1375483,
    # "Годовой 2.0 английский": 1375485,
    # "Годовой 2.0 история": 1375487,
    # "Годовой 2.0 биология": 1375597,
    # # Полугодовые курсы ОГЭ 2025
    # "Пг огэ русский 2025": 1375801,
    # "Пг огэ математика 2025": 1375803,
    # "Пг огэ общага 2025": 1375805,
    # "Пг огэ био 2025": 1375807,
    # # Полугодовые курсы ЕГЭ 2025
    # "Пг егэ русский 2025": 1375809,
    # "Пг егэ общага 2025": 1375811,
    # "Пг егэ база 2025": 1375813,
    # "Пг егэ профиль 2025": 1375815,
    # "Пг егэ литра 2025": 1375817,
    # "Пг егэ англ 2025": 1375819,
    # "Пг егэ био 2025": 1375821,
    # "Пг егэ химия 2025": 1375823,
    # "Пг егэ физика 2025": 1375825,
    # "Пг егэ история 2025": 1375827,
    # "пг егэ инфа 2025": 1375887,
    # # Весенние курсы ОГЭ 2025
    # "Весна огэ русский 2025": 1376217,
    # "Весна огэ математика 2025": 1376219,
    # "Весна огэ общага 2025": 1376221,
    # "Весна огэ био 2025": 1376223,
    # # Весенние курсы ЕГЭ 2025
    # "Весна егэ русский 2025": 1376225,
    # "Весна егэ общага 2025": 1376227,
    # "Весна егэ база 2025": 1376229,
    # "Весна егэ профиль 2025": 1376231,
    # "Весна егэ литра 2025": 1376233,
    # "Весна егэ англ 2025": 1376235,
    # "Весна егэ био 2025": 1376237,
    # "Весна егэ химия 2025": 1376239,
    # "Весна егэ физика 2025": 1376241,
    # "Весна егэ история 2025": 1376243,
    # "Весна егэ инфа 2025": 1376245,
    # "весна 10 класс": 1376299,
    # "Спецкурс история 2025": 1376315,
    # # Марафоны ОГЭ 2025
    # "Марафон огэ русский 2025": 1376383,
    # "Марафон огэ математика 2025": 1376385,
    # "Марафон огэ общага 2025": 1376387,
    # "Марафон огэ био 2025": 1376389,
    # # Марафоны ЕГЭ 2025
    # "Марафон егэ русский 2025": 1376391,
    # "Марафон егэ общага 2025": 1376393,
    # "Марафон егэ база 2025": 1376395,
    # "Марафон егэ профиль 2025": 1376397,
    # "Марафон егэ литра 2025": 1376399,
    # "Марафон егэ англ 2025": 1376401,
    # "Марафон егэ био 2025": 1376403,
    # "Марафон егэ химия 2025": 1376405,
    # "Марафон егэ физика 2025": 1376407,
    # "Марафон егэ история 2025": 1376409,
    # "Марафон егэ инфа 2025": 1376411,
    # # Марафоны с тарифами 2025
    # 'Марафон егэ "ну норм" 2к25': 1376469,
    # 'Марафон егэ "сын маминой подруги" 2к25': 1376471,
    # 'Марафон егэ "проходка на бюджет" 2к25': 1376473,
    # 'Марафон егэ "шик блеск 2к25': 1376475,
    # 'Марафон огэ "ну норм" 2к25': 1376477,
    # 'Марафон огэ "сын маминой подруги" 2к25': 1376479,
    # 'Марафон огэ "шик блеск 2к25': 1376481,
    # # Годовые курсы 2026
    # "Годовой 10 класс": 1376602,
    # "Годовой 2к26 8/9 класс": 1376630,
    # "Годовой 2к26 10/11 класс": 1376632,
    # # 7-месячные курсы 2026
    # "7 месяцев 2к26 - 10 класс": 1378705,
    # "7 месяцев  2к26 - 11 класс": 1378707,
    # "7 месяцев  2к26 - 8-9 класс": 1378709,
    # # Математика для младших классов 2026
    # "Математика 8 класс 2к26": 1378759,
    # "Математика 7 класс 2к26": 1378761,
}


def get_purchase_count_enum_id(count: int) -> int | None:
    """
    Получить enum_id для счетчика покупок.

    Args:
        count: Количество покупок (1-10)

    Returns:
        enum_id для AmoCRM или None если значение вне диапазона
    """
    return PURCHASE_COUNT_MAPPING.get(count)


def get_subject_enum_ids(subject_names: list[str]) -> list[int]:
    """
    Получить список enum_id для предметов.

    Args:
        subject_names: Список названий предметов

    Returns:
        Список enum_id для AmoCRM (пропускает неизвестные предметы)
    """
    enum_ids = []
    for name in subject_names:
        enum_id = SUBJECTS_MAPPING.get(name)
        if enum_id:
            enum_ids.append(enum_id)
    return enum_ids


def get_direction_enum_id(direction_name: str) -> int | None:
    """
    Получить enum_id для направления курса.

    Args:
        direction_name: Название курса

    Returns:
        enum_id для AmoCRM или None если курс не найден
    """
    return DIRECTION_MAPPING.get(direction_name)


def get_reverse_purchase_count(enum_id: int) -> int | None:
    """
    Получить числовое значение счетчика по enum_id.

    Args:
        enum_id: enum_id из AmoCRM

    Returns:
        Числовое значение (1-10) или None если не найдено
    """
    for count, eid in PURCHASE_COUNT_MAPPING.items():
        if eid == enum_id:
            return count
    return None
